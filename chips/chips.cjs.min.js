"use strict";var e=require("vue"),t={name:"Chips",emits:["update:modelValue","add","remove","focus","blur"],props:{modelValue:{type:Array,default:null},max:{type:Number,default:null},separator:{type:String,default:null},addOnBlur:{type:Boolean,default:null},allowDuplicate:{type:Boolean,default:!0},inputId:null,inputClass:null,inputStyle:null,inputProps:null,disabled:{type:Boolean,default:!1},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data:()=>({inputValue:null,focused:!1,focusedIndex:null}),methods:{onWrapperClick(){this.$refs.input.focus()},onInput(e){this.inputValue=e.target.value},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.addItem(e,e.target.value,!1),this.$emit("blur",e)},onKeyDown(e){const t=e.target.value;switch(e.code){case"Backspace":0===t.length&&this.modelValue&&this.modelValue.length>0&&(null!==this.focusedIndex?this.removeItem(e,this.focusedIndex):this.removeItem(e,this.modelValue.length-1));break;case"Enter":t&&t.trim().length&&!this.maxedOut&&this.addItem(e,t,!0);break;case"ArrowLeft":0===t.length&&this.modelValue&&this.modelValue.length>0&&(0===this.focusedIndex||null===this.focusedIndex?this.focusedIndex=this.modelValue.length-1:this.focusedIndex--);break;case"ArrowRight":0===t.length&&this.modelValue&&this.modelValue.length>0&&(null===this.focusedIndex||this.focusedIndex===this.modelValue.length-1?this.focusedIndex=0:this.focusedIndex++);break;default:this.separator&&","===this.separator&&","===e.key&&this.addItem(e,t,!0)}},onPaste(e){if(this.separator){let t=(e.clipboardData||window.clipboardData).getData("Text");if(t){let l=this.modelValue||[],n=t.split(this.separator);n=n.filter((e=>this.allowDuplicate||-1===l.indexOf(e))),l=[...l,...n],this.updateModel(e,l,!0)}}},updateModel(e,t,l){this.$emit("update:modelValue",t),this.$emit("add",{originalEvent:e,value:t}),this.$refs.input.value="",this.inputValue="",l&&e.preventDefault()},addItem(e,t,l){if(t&&t.trim().length){let n=this.modelValue?[...this.modelValue]:[];(this.allowDuplicate||-1===n.indexOf(t))&&(n.push(t),this.updateModel(e,n,l))}},removeItem(e,t){if(this.disabled)return;let l=[...this.modelValue];const n=l.splice(t,1);0===l.length&&(this.focusedIndex=null),this.$emit("update:modelValue",l),this.$emit("remove",{originalEvent:e,value:n})}},computed:{maxedOut(){return this.max&&this.modelValue&&this.max===this.modelValue.length},containerClass(){return["p-chips p-component p-inputwrapper",{"p-inputwrapper-filled":this.modelValue&&this.modelValue.length||this.inputValue&&this.inputValue.length,"p-inputwrapper-focus":this.focused}]}}};const l={class:"p-chips-token-label"},n=["onClick"],i={class:"p-chips-input-token"},a=["id","disabled","aria-labelledby","aria-label"];!function(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===l&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}("\n.p-chips {\r\n    display: -webkit-inline-box;\r\n    display: -ms-inline-flexbox;\r\n    display: inline-flex;\n}\n.p-chips-multiple-container {\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style-type: none;\r\n    cursor: text;\r\n    overflow: hidden;\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -ms-flex-wrap: wrap;\r\n        flex-wrap: wrap;\n}\n.p-chips-token {\r\n    cursor: default;\r\n    display: -webkit-inline-box;\r\n    display: -ms-inline-flexbox;\r\n    display: inline-flex;\r\n    -webkit-box-align: center;\r\n        -ms-flex-align: center;\r\n            align-items: center;\r\n    -webkit-box-flex: 0;\r\n        -ms-flex: 0 0 auto;\r\n            flex: 0 0 auto;\n}\n.p-chips-input-token {\r\n    -webkit-box-flex: 1;\r\n        -ms-flex: 1 1 auto;\r\n            flex: 1 1 auto;\r\n    display: -webkit-inline-box;\r\n    display: -ms-inline-flexbox;\r\n    display: inline-flex;\n}\n.p-chips-token-icon {\r\n    cursor: pointer;\n}\n.p-chips-input-token input {\r\n    border: 0 none;\r\n    outline: 0 none;\r\n    background-color: transparent;\r\n    margin: 0;\r\n    padding: 0;\r\n    -webkit-box-shadow: none;\r\n            box-shadow: none;\r\n    border-radius: 0;\r\n    width: 100%;\n}\n.p-fluid .p-chips {\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\n}\n.p-chips .p-chips-multiple-container .p-chips-token.p-focus {\r\n    background-color: var(--primary-color);\n}\r\n"),t.render=function(t,s,o,r,d,u){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(u.containerClass)},[e.createElementVNode("ul",{class:e.normalizeClass(["p-inputtext p-chips-multiple-container",{"p-disabled":o.disabled,"p-focus":d.focused}]),role:"listbox","aria-orientation":"horizontal",onClick:s[5]||(s[5]=e=>u.onWrapperClick())},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.modelValue,((i,a)=>(e.openBlock(),e.createElementBlock("li",{key:`${a}_${i}`,role:"option",class:e.normalizeClass(["p-chips-token",{"p-focus":d.focusedIndex===a}])},[e.renderSlot(t.$slots,"chip",{value:i,ariaLabel:i},(()=>[e.createElementVNode("span",l,e.toDisplayString(i),1)])),e.createElementVNode("span",{class:"p-chips-token-icon pi pi-times-circle",onClick:e=>u.removeItem(e,a)},null,8,n)],2)))),128)),e.createElementVNode("li",i,[e.createElementVNode("input",e.mergeProps({ref:"input",type:"text",id:o.inputId,class:o.inputClass,style:o.inputStyle,disabled:o.disabled||u.maxedOut,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onFocus:s[0]||(s[0]=e=>u.onFocus(e)),onBlur:s[1]||(s[1]=e=>u.onBlur(e)),onInput:s[2]||(s[2]=(...e)=>u.onInput&&u.onInput(...e)),onKeydown:s[3]||(s[3]=e=>u.onKeyDown(e)),onPaste:s[4]||(s[4]=e=>u.onPaste(e))},o.inputProps),null,16,a)])],2)],2)},module.exports=t;
